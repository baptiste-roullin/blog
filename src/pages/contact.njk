---
title: Discutons
date: 2020-08-05
layout: base
draft: false
eleventyNavigation:
  key: main
  title: Contact #  as it will appear in the nav
  order: 3    # order to display in the nav
---

<div class="mt-10 mb-16 lg:my-24 lg:mx-auto lg:max-w-6xl page lg:max-h">

  <div class="gap-0 lg:card-base " flex >
    <div class="hidden w-1/3 lg:block">
      {% truchetItem {
        width : 450,
        height: 750,
        tile_size: 50
      }, 'w-full h-auto rounded-l-md' %}
    </div>

    <div class="flex flex-col flex-grow p-4 mx-auto sm:px-6 lg:px-12 xl:px-20">
      <h1 class="my-6 text-5xl text-gray-700 lg:[margin-top:1.8vh] lg:[margin-bottom:2vh]">{{ seo.title or title }}</h1>
      <form id="contact"   class="w-full">
        <div class="gap-8 lg:flex">
          <div class="flex-grow">
            <label for="name" >Nom</label>
            <input autofocus required id="name" name="4" type="text" class= "block w-full px-4 py-3 mt-1 mb-6 text-lg placeholder-gray-500 transition-all duration-150 ease-in-out rounded-md shadow-sm lg:mb-8">
          </div>
          <div class="flex-grow">
            <label for="email" >Email</label>
            <input required id="email" name="5" type="email" class= "block w-full px-4 py-3 mt-1 mb-6 text-lg placeholder-gray-500 transition-all duration-150 ease-in-out rounded-md shadow-sm lg:mb-8" >
          </div>
        </div>
        <div>
          <label for="message" >Message</label>
          <textarea required id="message" name="6" rows="4" class= "block w-full h-56 px-4 py-3 mt-1 mb-6 text-lg placeholder-gray-500 transition-all duration-150 ease-in-out rounded-md shadow-sm lg:mb-8 md:h-48 lg:h-52" ></textarea>
        </div>
        <div class="">
          <button  class="inline-flex px-10 py-3 text-lg font-bold tracking-wide text-white transition-all rounded-lg shadow-sm bg-dark-lighter hover:bg-gray-100 hover:text-dark ">Envoyer
                </button >
        </div>
      </form>
    </div>
  </div>
</div>

<script>
  document
    .querySelector("#contact")
    .addEventListener('submit', async function () {
      event.preventDefault();
      let data = {
        formId: 1,
        answers: {}
      };

      for (let [key, value] of new FormData(this).entries()) {
        data.answers[key] = [value]
      }

      fetch('https://nuage.toutcequibouge.net/ocs/v2.php/apps/forms/api/v1.1/submission/insert', {
        method: 'POST',
        mode: 'cors',
        headers: {
          'Content-Type': 'application/json; charset=UTF-8',
          'Accept': 'application/json',
          'OCS-APIRequest': 'true'
        },
        body: JSON.stringify(data)
      }).then(res => {

        if (res.ok) {
          alert(' ✅ Votre message a bien été envoyé.')
        } else {
          alert("⚠️ Erreur dans l'envoi du message. Merci de bien vouloir vous rabattre sur Linkedin.")
        }
      })

    })
</script>

<script  src="/assets/scripts/{{hashes_js['truchet-dom.js']}}" defer></script>